{
  "cleanUrls": true,
  "redirects": [
    {
      "source": "/",
      "destination": "https://grateful.haylofriend.com",
      "permanent": true
    },
    {
      "source": "/login",
      "destination": "/auth/google",
      "permanent": true
    }
    /* IMPORTANT: Do NOT put a redirect for "/:slug/your-impact" here.
       We want to KEEP the pretty URL. We'll REWRITE it below. */
  ],
  "rewrites": [
    { "source": "/env.js", "destination": "/api/env.js" },
    { "source": "/auth/google", "destination": "/auth.google.html" },

    /* Serve the extensionless dashboard file for both paths */
    { "source": "/your-impact", "destination": "/your-impact" },
    { "source": "/:slug/your-impact", "destination": "/your-impact" },

    /* Keep your SPA catch-all last */
    { "source": "/(.*)", "destination": "/index.html" }
  ],
  "headers": [
    /* Since the dashboard file is extensionless, make sure itâ€™s served as HTML */
    {
      "source": "/your-impact",
      "headers": [{ "key": "Content-Type", "value": "text/html; charset=utf-8" }]
    }
  ]
}
